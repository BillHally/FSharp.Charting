<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>FSharp.Charting: BoxPlot Charts
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The FSharp.Charting library (`FSharp.Charting.dll`) implements charting suitable for in F# scripting.">
    <meta name="author" content="Microsoft Corporation, Tomas Petricek">

    <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="http://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">

    <link type="text/css" rel="stylesheet" href="content/style.css" />
    <script src="content/tips.js" type="text/javascript"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/fsharp/FSharp.Charting">github page</a></li>
        </ul>
        <h3 class="muted">FSharp.Charting</h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          <h1>FSharp.Charting: BoxPlot Charts</h1>

<p><em>Summary:</em> This article shows how to create boxplot diagrams in F#. It looks at how to create a single boxplot from six statistics about an observation set as well as how to automatically create boxplots from observations.</p>

<p>This article looks at how to create boxplot charts from F#.</p>

<p>When creating boxplot charts, it is possible to use either 6 statistics (Lower whisker, Upper whisker, Lower box, Upper box, Average, Median)
that define the boxplot data, or to infer these statistics from a set of values and let the library generate 
the boxplot diagram automatically. Figure 1 shows a chart series showing three boxplot 
diagrams calculated from randomly generated data.</p>

<p>A boxplot diagram shows six basic statistics about a set of observations. It displays the 
dataset' minimum and maximum, the upper and lower quartiles, the average value. and the 
median. When the F# script calculates these six statistics, the values can be passed to 
the function Chart.BoxPlotFromStatistics as a list of tuples 
to draw multiple boxplots.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="prep">#load</span> <span class="s">&quot;</span><span class="s">.</span><span class="s">.</span><span class="s">/</span><span class="s">bin</span><span class="s">/</span><span class="s">FSharp</span><span class="s">.</span><span class="s">Charting</span><span class="s">.</span><span class="s">fsx</span><span class="s">&quot;</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">Charting</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">System</span>

<span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="i">BoxPlotFromStatistics</span> 
  ( [ (<span class="s">&quot;</span><span class="s">Result</span><span class="s"> </span><span class="s">A</span><span class="s">&quot;</span>, <span class="o">-</span><span class="n">12.7</span>, <span class="n">11.6</span>, <span class="o">-</span><span class="n">8.3</span>, <span class="n">6.4</span>, <span class="n">0.0</span>, <span class="n">0.0</span>);
      (<span class="s">&quot;</span><span class="s">Result</span><span class="s"> </span><span class="s">B</span><span class="s">&quot;</span>, <span class="o">-</span><span class="n">6.7</span>, <span class="n">11.6</span>, <span class="o">-</span><span class="n">5.0</span>, <span class="n">5.4</span>, <span class="n">0.0</span>, <span class="n">0.0</span>) ])</pre>
</td>
</tr>
</table><p>Here is the same box plot with dates used as labels. These must be explicitly formatted as strings.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="i">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="i">BoxPlotFromStatistics</span> 
  ( [ (<span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="i">DateTime</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="i">Today</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="i">ToShortDateString</span>()             , <span class="o">-</span><span class="n">12.7</span>, <span class="n">11.6</span>, <span class="o">-</span><span class="n">8.3</span>, <span class="n">6.4</span>, <span class="n">0.0</span>, <span class="n">0.0</span>);
      (<span onmouseout="hideTip(event, 'fs6', 11)" onmouseover="showTip(event, 'fs6', 11)" class="i">DateTime</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 12)" onmouseover="showTip(event, 'fs7', 12)" class="i">Today</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="i">AddDays</span>(<span class="n">1.0</span>)<span class="o">.</span><span class="i">ToShortDateString</span>(), <span class="o">-</span><span class="n">6.7</span>, <span class="n">11.6</span>, <span class="o">-</span><span class="n">5.0</span>, <span class="n">5.4</span>, <span class="n">0.0</span>, <span class="n">0.0</span>) ],
    <span class="i">ShowMedian</span> <span class="o">=</span> <span class="k">false</span>, <span class="i">ShowAverage</span> <span class="o">=</span> <span class="k">false</span>)</pre>
</td>
</tr>
</table><p>This snippet calls the Chart.BoxPlotFromStatistics function with a list containing<br />
(Label, Lower whisker, Upper whisker, Lower box, Upper box, Average, Median) pairs.
The call uses the value 0.0 as a placeholder for the last two statistics. The lines in the boxplot 
diagram have to be hidden explicitly by setting BoxPlotShowMedian and BoxPlotShowAverage to false.</p>

<p>Another alternative when creating a boxplot is to the charting library 
calculate the boxplot statistics automatically. To do that, the Chart.BoxPlot function 
can be called with a collection of (xLabel, yValues) tuples as an argument. Each entry 
is a label plus set of observations. The statistics are automatically computed from the 
values in the observations.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip">
<span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre>
</td>
<td class="snippet"><pre class="fssnip">
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="i">date</span> <span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="i">n</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs6', 16)" onmouseover="showTip(event, 'fs6', 16)" class="i">DateTime</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 17)" onmouseover="showTip(event, 'fs7', 17)" class="i">Today</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 18)" onmouseover="showTip(event, 'fs9', 18)" class="i">AddDays</span>(<span onmouseout="hideTip(event, 'fs12', 19)" onmouseover="showTip(event, 'fs12', 19)" class="i">float</span> <span onmouseout="hideTip(event, 'fs11', 20)" onmouseover="showTip(event, 'fs11', 20)" class="i">n</span>)<span class="o">.</span><span class="i">ToShortDateString</span>()
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 21)" onmouseover="showTip(event, 'fs13', 21)" class="i">rnd</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs3', 22)" onmouseover="showTip(event, 'fs3', 22)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 23)" onmouseover="showTip(event, 'fs14', 23)" class="i">Random</span>()

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 24)" onmouseover="showTip(event, 'fs15', 24)" class="i">threeSyntheticDataSets</span> <span class="o">=</span> 
    [ (<span onmouseout="hideTip(event, 'fs10', 25)" onmouseover="showTip(event, 'fs10', 25)" class="i">date</span> <span class="n">0</span>, [| <span class="k">for</span> <span onmouseout="hideTip(event, 'fs16', 26)" onmouseover="showTip(event, 'fs16', 26)" class="i">i</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span class="n">20</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs12', 27)" onmouseover="showTip(event, 'fs12', 27)" class="i">float</span> (<span onmouseout="hideTip(event, 'fs13', 28)" onmouseover="showTip(event, 'fs13', 28)" class="i">rnd</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 29)" onmouseover="showTip(event, 'fs17', 29)" class="i">Next</span> <span class="n">20</span>) |])
      (<span onmouseout="hideTip(event, 'fs10', 30)" onmouseover="showTip(event, 'fs10', 30)" class="i">date</span> <span class="n">1</span>, [| <span class="k">for</span> <span onmouseout="hideTip(event, 'fs16', 31)" onmouseover="showTip(event, 'fs16', 31)" class="i">i</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span class="n">20</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs12', 32)" onmouseover="showTip(event, 'fs12', 32)" class="i">float</span> (<span onmouseout="hideTip(event, 'fs13', 33)" onmouseover="showTip(event, 'fs13', 33)" class="i">rnd</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 34)" onmouseover="showTip(event, 'fs17', 34)" class="i">Next</span> <span class="n">15</span> <span class="o">+</span> <span class="n">2</span>) |])
      (<span onmouseout="hideTip(event, 'fs10', 35)" onmouseover="showTip(event, 'fs10', 35)" class="i">date</span> <span class="n">2</span>, [| <span class="k">for</span> <span onmouseout="hideTip(event, 'fs16', 36)" onmouseover="showTip(event, 'fs16', 36)" class="i">i</span> <span class="k">in</span> <span class="n">0</span> <span class="o">..</span> <span class="n">20</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs12', 37)" onmouseover="showTip(event, 'fs12', 37)" class="i">float</span> (<span onmouseout="hideTip(event, 'fs13', 38)" onmouseover="showTip(event, 'fs13', 38)" class="i">rnd</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 39)" onmouseover="showTip(event, 'fs17', 39)" class="i">Next</span> <span class="n">10</span> <span class="o">+</span> <span class="n">5</span>) |]) ]

<span onmouseout="hideTip(event, 'fs4', 40)" onmouseover="showTip(event, 'fs4', 40)" class="i">Chart</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs18', 41)" onmouseover="showTip(event, 'fs18', 41)" class="i">BoxPlotFromData</span>
  ( <span onmouseout="hideTip(event, 'fs15', 42)" onmouseover="showTip(event, 'fs15', 42)" class="i">threeSyntheticDataSets</span>,
    <span class="i">ShowUnusualValues</span> <span class="o">=</span> <span class="k">true</span>, <span class="i">ShowMedian</span> <span class="o">=</span> <span class="k">false</span>,
    <span class="i">ShowAverage</span> <span class="o">=</span> <span class="k">false</span>, <span class="i">WhiskerPercentile</span> <span class="o">=</span> <span class="n">10</span>)</pre>
</td>
</tr>
</table><p>The example above demonstrates how to calculate boxplot diagrams 
automatically from (randomly generated) data. It is also possible to set 
several custom properties to configure the boxplot diagram. When 
BoxPlotShowUnusualValues is true, the boxplot displays unusual values using points, as shown in Figure 1.</p>

<p>More information about working with financial data and how to download 
stock prices from the Yahoo Finance portal using F# can be found in <a href="http://tryfsharp.org">Try F#</a>.</p>

          <div class="tip" id="fs1">namespace FSharp</div>
<div class="tip" id="fs2">namespace FSharp.Charting</div>
<div class="tip" id="fs3">namespace System</div>
<div class="tip" id="fs4">type Chart =<br />&#160;&#160;static member Area : data:seq&lt;#value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; GenericChart<br />&#160;&#160;static member Bar : data:seq&lt;#value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; GenericChart<br />&#160;&#160;static member BoxPlotFromData : data:seq&lt;#value * #seq&lt;&#39;a2&gt;&gt; * ?Name:string * ?Title:string * ?Color:Color * ?XTitle:string * ?YTitle:string * ?Percentile:int * ?ShowAverage:bool * ?ShowMedian:bool * ?ShowUnusualValues:bool * ?WhiskerPercentile:int -&gt; GenericChart (requires &#39;a2 :&gt; value)<br />&#160;&#160;static member BoxPlotFromStatistics : data:seq&lt;#value * #value * #value * #value * #value * #value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string * ?Percentile:int * ?ShowAverage:bool * ?ShowMedian:bool * ?ShowUnusualValues:bool * ?WhiskerPercentile:int -&gt; GenericChart<br />&#160;&#160;static member Bubble : data:seq&lt;#value * #value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string * ?BubbleMaxSize:int * ?BubbleMinSize:int * ?BubbleScaleMax:float * ?BubbleScaleMin:float * ?UseSizeForLabel:bool -&gt; GenericChart<br />&#160;&#160;static member Candlestick : data:seq&lt;#value * #value * #value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; CandlestickChart<br />&#160;&#160;static member Candlestick : data:seq&lt;#value * #value * #value * #value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; CandlestickChart<br />&#160;&#160;static member Column : data:seq&lt;#value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Color * ?XTitle:string * ?YTitle:string -&gt; GenericChart<br />&#160;&#160;static member Columns : charts:seq&lt;GenericChart&gt; -&gt; GenericChart<br />&#160;&#160;static member Combine : charts:seq&lt;GenericChart&gt; -&gt; GenericChart<br />&#160;&#160;...<br /><br />Full name: FSharp.Charting.Chart</div>
<div class="tip" id="fs5">static member Chart.BoxPlotFromStatistics : data:seq&lt;#value * #value * #value * #value * #value * #value * #value&gt; * ?Name:string * ?Title:string * ?Labels:#seq&lt;string&gt; * ?Color:Drawing.Color * ?XTitle:string * ?YTitle:string * ?Percentile:int * ?ShowAverage:bool * ?ShowMedian:bool * ?ShowUnusualValues:bool * ?WhiskerPercentile:int -&gt; ChartTypes.GenericChart</div>
<div class="tip" id="fs6">Multiple items<br />type DateTime =<br />&#160;&#160;struct<br />&#160;&#160;&#160;&#160;new : ticks:int64 -&gt; DateTime + 10 overloads<br />&#160;&#160;&#160;&#160;member Add : value:TimeSpan -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddDays : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddHours : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMilliseconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMinutes : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddMonths : months:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddSeconds : value:float -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddTicks : value:int64 -&gt; DateTime<br />&#160;&#160;&#160;&#160;member AddYears : value:int -&gt; DateTime<br />&#160;&#160;&#160;&#160;...<br />&#160;&#160;end<br /><br />Full name: System.DateTime<br /><br />--------------------<br />DateTime()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, calendar: Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: Globalization.Calendar) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, millisecond: int, kind: DateTimeKind) : unit<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="tip" id="fs7">property DateTime.Today: DateTime</div>
<div class="tip" id="fs8">DateTime.ToShortDateString() : string</div>
<div class="tip" id="fs9">DateTime.AddDays(value: float) : DateTime</div>
<div class="tip" id="fs10">val date : n:int -&gt; string<br /><br />Full name: BoxPlotCharts.date</div>
<div class="tip" id="fs11">val n : int</div>
<div class="tip" id="fs12">Multiple items<br />val float : value:&#39;T -&gt; float (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.float<br /><br />--------------------<br />type float = Double<br /><br />Full name: Microsoft.FSharp.Core.float<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; = float<br /><br />Full name: Microsoft.FSharp.Core.float&lt;_&gt;</div>
<div class="tip" id="fs13">val rnd : Random<br /><br />Full name: BoxPlotCharts.rnd</div>
<div class="tip" id="fs14">Multiple items<br />type Random =<br />&#160;&#160;new : unit -&gt; Random + 1 overload<br />&#160;&#160;member Next : unit -&gt; int + 2 overloads<br />&#160;&#160;member NextBytes : buffer:byte[] -&gt; unit<br />&#160;&#160;member NextDouble : unit -&gt; float<br /><br />Full name: System.Random<br /><br />--------------------<br />Random() : unit<br />Random(Seed: int) : unit</div>
<div class="tip" id="fs15">val threeSyntheticDataSets : (string * float []) list<br /><br />Full name: BoxPlotCharts.threeSyntheticDataSets</div>
<div class="tip" id="fs16">val i : int</div>
<div class="tip" id="fs17">Random.Next() : int<br />Random.Next(maxValue: int) : int<br />Random.Next(minValue: int, maxValue: int) : int</div>
<div class="tip" id="fs18">static member Chart.BoxPlotFromData : data:seq&lt;#value * #seq&lt;&#39;a2&gt;&gt; * ?Name:string * ?Title:string * ?Color:Drawing.Color * ?XTitle:string * ?YTitle:string * ?Percentile:int * ?ShowAverage:bool * ?ShowMedian:bool * ?ShowUnusualValues:bool * ?WhiskerPercentile:int -&gt; ChartTypes.GenericChart (requires &#39;a2 :&gt; value)</div>

        </div>
        <div class="span3">

          <ul class="nav nav-list" id="menu">
            <li class="nav-header">FSharp.Charting Library</li>
            <li><a href="index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="https://nuget.org/packages/FSharp.Charting">Get Library via NuGet</a></li>
            <li><a href="https://github.com/fsharp/FSharp.Charting">Source Code on GitHub</a></li>
            <li><a href="https://github.com/fsharp/FSharp.Charting/blob/master/LICENSE.md">License (Apache 2.0)</a></li>
            <li><a href="https://github.com/fsharp/FSharp.Charting/blob/master/RELEASE_NOTES.md">Release Notes</a></li>
            <li><a href="contributing.html">Contributing to FSharp.Charting</a></li>
            
            <li class="nav-header">Documentation</li>
            <li><a href="fsharpcharting.html">FSharp.Charting Documentation</a></li>
            <li class="divider"></li>
            <li><a href="ReferencingTheLibrary.html">Referencing The Library</a></li>
            <li><a href="BarAndColumnCharts.html">Bar and Column Charts</a></li>
            <li><a href="PointAndLineCharts.html">Point and Line Charts</a></li>

          </ul>

        </div>
      </div>
    </div>
    <a href="https://github.com/fsharp/FSharp.Charting"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
  </body>
  </html>